
{% include "admin/cabecera.html" %}
<br><br>

<!-- este es el container encargado de guardar la informacion del form con el metodo post a una variable definida en app.py
y despues a la BD -->
<div class=" container">
    <div class="row">

        <div class="col-md-5">
           
<div class="card">
    <div class="card-header">
        Datos del libro
    </div>
    <div class="card-body">
        <form action="/admin/libros/guardar" method="post" enctype="multipart/form-data">
          <div class="mb-3">
            <label for="txtNombre" class="form-label">Nombre</label>
            <input type="text"
              class="form-control" name="txtNombre" id="txtNombre" aria-describedby="helpId" placeholder="Escribe el nombre del libro">
          </div>

          <div class="mb-3">
            <label for="txtImagen" class="form-label">Imagen</label>
            <input type="file"
              class="form-control" name="txtImagen" id="txtImagen" aria-describedby="helpId" placeholder="Seleccione la imagen">
          </div>

          <div class="mb-3">
            <label for="txtURL" class="form-label">URL Descarga</label>
            <input type="text"
              class="form-control" name="txtURL" id="txtURL" aria-describedby="helpId" placeholder="Escriba la URL de descarga">
          </div>


          <button type="submit" class="btn btn-primary">Agregar</button>





        </form>
    </div>
    <div class="card-footer text-muted">
       
    </div>
</div>
 
        </div>

        <!-- esta es la tabla encargada de mostrar la informacion almacenada en la base de datos -->
        <div class="col-md-7">
           <div class="table-responsive">
            <table class="table table-primary">
                <thead>
                    <tr>
                        <th scope="col">ID</th>
                        <th scope="col">Nombre</th>
                        <th scope="col">Imagen</th>
                        <th scope="col">URL</th>
                        <th scope="col">Acciones</th>
                    </tr>
                </thead>

                
                <tbody>
                    {% for libro in libros%}   <!-- bucle for de lectura de los datos -->
                    <tr class="">
                        <td>{{libro[0]}}</td>
                        <td>{{libro[1]}}</td>
                        <td>
                            <img width="60px" src="/img/{{libro[2]}}" class="img-fluid rounded-top" alt="">
                        </td>
                        <td>
                            <a name="" id="" class="btn btn-primary" href="{{libro[3]}}" role="button">Enlace</a>
                        </td>
                        <td>
                            <form action="/admin/libros/borrar" method="post">
                                
                                <input value="{{libro[0]}}" type="hidden" name="txtID" id="txtID"> <!-- selecciona el id a eliminar -->
                                  <button type="submit" class="btn btn-danger">Eliminar</button>   <!-- envio a la funcion eliminar de app.py -->


                            </form>


                        </td>
                    </tr>
                    {% endfor%}
                </tbody>
            </table>
           </div>
           
        </div>
        
    </div>
</div>

{% include "admin/pie.html" %}
